<%- include("particls/head.ejs") %>



<div class="container">
    <div class="container-chart">
        <input id="sparkline" type="hidden" value=<%= sparkline %> >
        <canvas id="priceChart" style="width:100%; height: 500px;"></canvas>
        <form action="/changePriceChart" method="post">
            <div id="timePeriodButtonsBlock">
                <div class="time-period-container">
                    <label for="timePeriod">Time Period:</label>
                    <input type="hidden" name="uuid" id="uuid" value="<%= uuid %>">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="1h">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="3h">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="12h">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="24h">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="7d">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="30d">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="3m">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="1y">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="3y">
                    <input type="submit" name="timePeriod" class="timePeriodButtons" value="5y">
                </div>
            </div>
        </form>
    </div>
    <div class="price-card">
        <div class="crypto-header">
            <img src="<%= imag %>" alt="" class="crypto-icon">
            <h1><%= name %></h1>
        </div>
        
        <div class="price-display">
            <span class="currency">$ </span>
            <span class="amount"><%= (price) %></span>
        </div>
        
        <div class="action-buttons">
            <button class="btn buy-btn">BUY</button>
            <button class="btn sell-btn">SELL</button>
        </div>

        <div class="high-low">
            <table>
                <tr><th>High</th></tr>
                <tr><td>$<%=high%></td></tr>
            </table>
            <table>
                <tr><th>low</th></tr>
                <tr><td>$<%= low %></td></tr>
            </table>
            <table>
                <tr><th>All Time High</th></tr>
                <tr><td>$<%= allTimeHigh %></td></tr>
            </table>
        </div>

    </div>
</div>

<div class="btc-stats-wrapper">
    <div class="btc-stats-panel">
        <h2 class="btc-stats-panel-heading">View Statistics</h2>
        <p class="btc-stats-panel-text">An overview showing the statistics of Bitcoin, such as the base and quote currency, the rank, and trading volume.</p>
        <div class="btc-stats-list">
            <div class="btc-stats-row">
                <span class="btc-stats-label">Price to USD</span>
                <span class="btc-stats-value">$<%= Math.round(price*10000)/10000 %></span>
            </div>
            <div class="btc-stats-row">
                <span class="btc-stats-label">Price to BTC</span>
                <span class="btc-stats-value"><%= btcPrice %> BTC</span>
            </div>
            <div class="btc-stats-row">
                <span class="btc-stats-label">Coin Rank</span>
                <span class="btc-stats-value"><%= rank %></span>
            </div>
            <div class="btc-stats-row">
                <span class="btc-stats-label">24h Volume</span>
                <span class="btc-stats-value">$<%= volume24h %></span>
            </div>
            <div class="btc-stats-row">
                <span class="btc-stats-label">Market Cap</span>
                <span class="btc-stats-value">$<%= marketcap %></span>
            </div>
        </div>
    </div>
    <div class="btc-stats-panel">
        <h2 class="btc-stats-panel-heading">Supply Information</h2>
        <p class="btc-stats-panel-text">View the total and circulating supply of Bitcoin, including details on how the supplies are calculated.</p>
        <div class="btc-supply-indicator"><%= Math.floor(supply.circulating *100 / supply.total)%>%</div>

        <div class="btc-stats-list">
            <div class="btc-stats-row">
                <span class="btc-stats-label">Circulating Supply</span>
                <span class="btc-stats-value"><%= supply.circulating %> BTC</span>
            </div>
            <div class="btc-stats-row">
                <span class="btc-stats-label">Total Supply</span>
                <span class="btc-stats-value"><%= supply.total %> BTC</span>
            </div>
            <div class="btc-stats-row">
                <span class="btc-stats-label">Max Supply</span>
                <span class="btc-stats-value"><%= supply.max %> BTC</span>
            </div>
        </div>
    </div>
</div>

<%- include("particls/foot.ejs") %>